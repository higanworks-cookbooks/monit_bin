## Generated by Chef for <%= node['fqdn']  %>

<% case @type %>
<% when "pid"  then %>
check process <%= @service_name %> with pidfile <%= @pidfile %>
<% when "matching" then %>
check process <%= @service_name %> matching "<%= @regex %>"
<% else %>
check process <%= @service_name %>
<% end %>
  start program = "<%= @start_program %>"
  <% if @start_timeout %>
  with timeout <%= @start_timeout.to_s %> seconds
  <% end %>
  stop program  = "<%= @stop_program %>"
  <% if @stop_timeout %>
  with timeout <%= @stop_timeout.to_s %> seconds
  <% end %>
  <% if @restart_program %>
  restart program  = "<%= @restart_program %>"
  <% end %>
  <% if @restart_timeout %>
  with timeout <%= @restart_timeout.to_s %> seconds
  <% end %>
<% @policies.each do |policy| %>
  <%= policy.to_s %>
<% end %>

